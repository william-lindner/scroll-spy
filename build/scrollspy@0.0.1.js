(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a="undefined"==typeof globalThis?a||self:globalThis,a.ScrollSpy=b())})(this,function(){'use strict';return class{constructor(a,b=100){var c=Number.isInteger;if(!(a instanceof HTMLElement))throw new Error("Invalid sticky implementation. Must pass element as first argument.");if(!c(b))throw new Error("The delay on the scroll spy must be an integer.");this.$el=a,this.$actions={above:[],on:[],below:[],inView:[],notInView:[]};let d=null;window.setTimeout(()=>{this.update(),window.setTimeout(()=>{window.addEventListener("scroll",()=>{window.clearTimeout(d),d=window.setTimeout(()=>this.update(),b)},{capture:!1,passive:!0})},1)},1)}update(){var a=Math.round;let b=document.documentElement,c=b.scrollTop,d=this.$el.getBoundingClientRect(),e=d.y||d.top,f=e+c;return f=a(0>f?0:f),b.scrollTop===f?this.runActions("on"):b.scrollTop>f?this.runActions("below"):this.runActions("above"),0<=d.top&&0<=d.left&&d.bottom<=(window.innerHeight||b.clientHeight)&&d.right<=(window.innerWidth||b.clientWidth)?this.runActions("inView"):this.runActions("notInView"),this}addAction(a,b){if(!this.$actions[a])throw new Error("The action provided is not available.");if("function"!=typeof b)throw new Error("Cannot add action that is not a function.");return this.$actions[a].push(b),this}runActions(a){if(!this.$actions[a])throw new Error("Cannot run actions which are not supported.");for(let b of this.$actions[a])window.setTimeout(b.bind(this.$el),0)}whenAbove(a){return this.addAction("above",a)}whenBelow(a){return this.addAction("below",a)}whenOn(a){return this.addAction("on",a)}whenInView(a){return this.addAction("inView",a)}whenNotInView(a){return this.addAction("notInView",a)}}});
